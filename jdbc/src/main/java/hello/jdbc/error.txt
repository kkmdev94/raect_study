2025 08 14 error

1.@SpringBootTest는 테스트마다 테이블이 없는 깨끗한 인메모리 DB를 새로 만듭니다.
2.AopCheck 테스트는 DB에 데이터를 저장하지 않으므로 MEMBER 테이블이 생성되지 않습니다.
3.하지만 테스트가 끝난 후 @AfterEach가 실행되어 데이터 정리를 시도합니다.
4.이때 존재하지 않는 MEMBER 테이블의 데이터를 삭제하려 했기 때문에,
5.H2 데이터베이스가 "테이블을 찾을 수 없다"는 오류를 발생시킨 것입니다.

---------------------------------------------------------------------------------

1.@SpringBootTest가 만드는 빈 데이터베이스에 테이블을 생성해야 합니다.
2.src/test/resources 경로에 schema.sql 파일을 생성합니다.
3.이 파일 안에 MEMBER 테이블을 만드는 CREATE TABLE SQL 구문을 작성합니다.
4.그러면 스프링 부트가 테스트 시작 시 이 파일을 자동으로 실행하여 테이블을 만들어줍니다.
5.이로써 모든 테스트는 테이블이 존재하는 상태에서 실행되어 오류가 해결됩니다.